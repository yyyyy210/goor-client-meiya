webpackJsonp([5],{113:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=o(n),r=a(9),i=o(r),c=a(3),d=o(c),s=a(7),f=o(s),u=a(6),p=o(u),b=a(5),m=o(b),g=a(1),h=o(g),y=a(10),k=o(y),v=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&(a[o[n]]=e[o[n]]);return a},E=function(e){function t(){(0,d.default)(this,t);var e=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=function(){var t=e.props,a=t.checked,o=t.onChange;o&&o(!a)},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,o=void 0===a?"ant-tag":a,n=t.className,r=t.checked,c=v(t,["prefixCls","className","checked"]),d=(0,k.default)(o,(e={},(0,i.default)(e,o+"-checkable",!0),(0,i.default)(e,o+"-checkable-checked",r),e),n);return delete c.onChange,h.default.createElement("div",(0,l.default)({},c,{className:d,onClick:this.handleClick}))}}]),t}(h.default.Component);t.default=E,e.exports=t.default},114:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=o(n),r=a(9),i=o(r),c=a(3),d=o(c),s=a(7),f=o(s),u=a(6),p=o(u),b=a(5),m=o(b),g=a(1),h=o(g),y=a(15),k=o(y),v=a(51),E=o(v),x=a(10),C=o(x),O=a(61),w=o(O),P=a(13),_=o(P),T=a(113),S=o(T),M=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&(a[o[n]]=e[o[n]]);return a},j=function(e){function t(e){(0,d.default)(this,t);var a=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.close=function(e){var t=a.props.onClose;if(t&&t(e),!e.defaultPrevented){var o=k.default.findDOMNode(a);o.style.width=o.getBoundingClientRect().width+"px",o.style.width=o.getBoundingClientRect().width+"px",a.setState({closing:!0})}},a.animationEnd=function(e,t){if(!t&&!a.state.closed){a.setState({closed:!0,closing:!1});var o=a.props.afterClose;o&&o()}},a.state={closing:!1,closed:!1},a}return(0,m.default)(t,e),(0,f.default)(t,[{key:"isPresetColor",value:function(e){return/^(pink|red|yellow|orange|cyan|green|blue|purple)(-inverse)?$/.test(e)}},{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,o=t.closable,n=t.color,r=t.className,c=t.children,d=t.style,s=M(t,["prefixCls","closable","color","className","children","style"]),f=o?h.default.createElement(_.default,{type:"cross",onClick:this.close}):"",u=this.isPresetColor(n),p=(0,C.default)(a,(e={},(0,i.default)(e,a+"-"+n,u),(0,i.default)(e,a+"-has-color",n&&!u),(0,i.default)(e,a+"-close",this.state.closing),e),r),b=(0,w.default)(s,["onClose","afterClose"]),m=(0,l.default)({backgroundColor:n&&!u?n:null},d),g=this.state.closed?null:h.default.createElement("div",(0,l.default)({"data-show":!this.state.closing},b,{className:p,style:m}),h.default.createElement("span",{className:a+"-text"},c),f);return h.default.createElement(E.default,{component:"",showProp:"data-show",transitionName:a+"-zoom",transitionAppear:!0,onEnd:this.animationEnd},g)}}]),t}(h.default.Component);t.default=j,j.CheckableTag=S.default,j.defaultProps={prefixCls:"ant-tag",closable:!1},e.exports=t.default},115:[1061,123],121:function(e,t,a){t=e.exports=a(59)(),t.push([e.id,".ant-tag{display:inline-block;line-height:20px;height:22px;padding:0 8px;border-radius:3px;border:1px solid #f4f4f4;background:#f3f3f3;font-size:14px;transition:all .3s cubic-bezier(.78,.14,.15,.86);opacity:1;margin-right:8px;cursor:pointer;white-space:nowrap}.ant-tag:hover{opacity:.85}.ant-tag,.ant-tag a,.ant-tag a:hover{color:#666}.ant-tag-text a:first-child:last-child{display:inline-block;margin:0 -8px;padding:0 8px}.ant-tag .anticon-cross{display:inline-block;font-size:14px;font-size:10px\\9;-webkit-transform:scale(.83333333) rotate(0deg);-ms-transform:scale(.83333333) rotate(0deg);transform:scale(.83333333) rotate(0deg);-ms-filter:\"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', M11=1, M12=0, M21=0, M22=1)\";zoom:1;cursor:pointer;font-weight:700;margin-left:3px;transition:all .3s ease;opacity:.66}:root .ant-tag .anticon-cross{-webkit-filter:none;filter:none;font-size:14px}.ant-tag .anticon-cross:hover{opacity:1}.ant-tag-has-color{border-color:transparent}.ant-tag-has-color,.ant-tag-has-color .anticon-cross,.ant-tag-has-color .anticon-cross:hover,.ant-tag-has-color a,.ant-tag-has-color a:hover{color:#fff}.ant-tag-checkable{background-color:transparent;border-color:transparent}.ant-tag-checkable-checked,.ant-tag-checkable:active,.ant-tag-checkable:hover{color:#fff}.ant-tag-checkable:hover{background-color:#49a9ee}.ant-tag-checkable-checked{background-color:#108ee9}.ant-tag-checkable:active{background-color:#0e77ca}.ant-tag-close{width:0!important;padding:0;margin:0}.ant-tag-zoom-appear,.ant-tag-zoom-enter{-webkit-animation:antFadeIn .2s cubic-bezier(.78,.14,.15,.86);animation:antFadeIn .2s cubic-bezier(.78,.14,.15,.86);-webkit-animation-fill-mode:both;animation-fill-mode:both}.ant-tag-zoom-leave{-webkit-animation:antZoomOut .3s cubic-bezier(.78,.14,.15,.86);animation:antZoomOut .3s cubic-bezier(.78,.14,.15,.86);-webkit-animation-fill-mode:both;animation-fill-mode:both}.ant-tag-pink{color:#f5317f;background:#fdd8e7;border-color:#fdd8e7}.ant-tag-pink-inverse{background:#f5317f;border-color:#f5317f;color:#fff}.ant-tag-red{color:#f04134;background:#fcdbd9;border-color:#fcdbd9}.ant-tag-red-inverse{background:#f04134;border-color:#f04134;color:#fff}.ant-tag-orange{color:#f56a00;background:#fde3cf;border-color:#fde3cf}.ant-tag-orange-inverse{background:#f56a00;border-color:#f56a00;color:#fff}.ant-tag-yellow{color:#ffbf00;background:#fff3cf;border-color:#fff3cf}.ant-tag-yellow-inverse{background:#ffbf00;border-color:#ffbf00;color:#fff}.ant-tag-cyan{color:#00a2ae;background:#cfedf0;border-color:#cfedf0}.ant-tag-cyan-inverse{background:#00a2ae;border-color:#00a2ae;color:#fff}.ant-tag-green{color:#00a854;background:#cfefdf;border-color:#cfefdf}.ant-tag-green-inverse{background:#00a854;border-color:#00a854;color:#fff}.ant-tag-blue{color:#108ee9;background:#d2eafb;border-color:#d2eafb}.ant-tag-blue-inverse{background:#108ee9;border-color:#108ee9;color:#fff}.ant-tag-purple{color:#7265e6;background:#e4e2fa;border-color:#e4e2fa}.ant-tag-purple-inverse{background:#7265e6;border-color:#7265e6;color:#fff}",""])},123:function(e,t,a){var o=a(121);"string"==typeof o&&(o=[[e.id,o,""]]);a(63)(o,{});o.locals&&(e.exports=o.locals)},646:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=(a(21),a(20)),l=o(n),r=(a(57),a(56)),i=o(r),c=(a(164),a(111)),d=o(c),s=a(2),f=o(s),u=(a(35),a(46)),p=o(u),b=a(27),m=o(b),g=a(3),h=o(g),y=a(7),k=o(y),v=a(6),E=o(v),x=a(5),C=o(x),O=(a(112),a(90)),w=o(O),P=(a(45),a(44)),_=o(P),T=a(1),S=o(T),M=_.default.Item,j=w.default.Group,N={labelCol:{span:6},wrapperCol:{span:16}},z=function(e){function t(e){(0,h.default)(this,t);var a=(0,E.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e));return a.state={robots:[]},a}return(0,C.default)(t,e),(0,k.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.item,t=[];e.id&&0===this.state.robots.length&&(e.robots.map(function(e){t.push(e.id)}),this.setState({robots:t}))}},{key:"render",value:function(){function e(){m(function(e){if(!e){var t=g(),a=[];t.robots.map(function(e){a.push({id:e})}),t.robots=a,o.id&&(t.id=o.id),c(t)}})}var t=this,a=this.props,o=a.item,n=a.robotlist,r=a.pointCascade,c=a.onOk,s=a.onCancel,u=a.form,b=u.getFieldDecorator,m=u.validateFields,g=u.getFieldsValue,h={title:""+(o.id?"修改场景":"添加场景"),visible:!0,onOk:e,onCancel:s,width:800,wrapClassName:"vertical-center-modal"};return S.default.createElement(l.default,h,S.default.createElement(M,(0,f.default)({label:"场景名称"},N),b("name",{initialValue:o.name,rules:[{required:!0,message:"场景未填写"}]})(S.default.createElement(p.default,null))),S.default.createElement(M,(0,f.default)({label:"机器人"},N),b("robots",{initialValue:this.state.robots,rules:[{required:!0,message:"机器人未填写"}]})(S.default.createElement(d.default.Group,null,S.default.createElement(i.default,null,n.map(function(e,a){return t.state.robots.indexOf(e.id)>=0?S.default.createElement(d.default,{key:a,value:e.id},e.name):S.default.createElement(d.default,{disabled:!!e.sceneId,key:a,value:e.id},e.name)}))))),S.default.createElement(M,(0,f.default)({label:"地图场景"},N),b("mapSceneName",{initialValue:o.mapSceneName,rules:[{required:!0,message:"地图场景未填写"}]})(S.default.createElement(j,null,S.default.createElement(i.default,null,r.map(function(e,t){return S.default.createElement(w.default,{key:t,value:e.label},e.label)}))))),S.default.createElement(M,(0,f.default)({label:"备注"},N),b("intro",{initialValue:o.intro||""})(S.default.createElement(p.default,{type:"textarea",rows:6}))))}}]),t}(S.default.Component);z.propTypes={form:T.PropTypes.object.isRequired,robotlist:T.PropTypes.array.isRequired,pointCascade:T.PropTypes.array.isRequired,item:T.PropTypes.object,onOk:T.PropTypes.func,onCancel:T.PropTypes.func},t.default=_.default.create()(z),e.exports=t.default},647:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.data,a=e.loading,o=e.onEdit,n=e.onDelete,l=function(e,t){var a;return(a={},(0,b.default)(a,y.UPDATE,o),(0,b.default)(a,y.DELETE,n),a)[e](t)},i=[{title:"场景名称",dataIndex:"name"},{title:"地图场景",dataIndex:"mapSceneName"},{title:"机器人",dataIndex:"robots",render:function(e,t){return g.default.createElement("div",null,e.map(function(e,t){return g.default.createElement(u.default,{color:"#108ee9",key:e.id},e.name)}))}},{title:"备注",dataIndex:"intro"},{title:"状态",dataIndex:"state",render:function(e,t){var a=k[e];return g.default.createElement(s.default,{type:a.primary,style:a.class},a.name)}},{title:"操作",key:"operation",width:100,className:"textAlign",render:function(e,t){return g.default.createElement("ul",null,g.default.createElement("li",null,g.default.createElement(r.default,{placement:"top",title:"编辑",onClick:function(){return l(y.UPDATE,t)}},g.default.createElement(c.default,{type:"edit"}))),g.default.createElement("li",null,g.default.createElement(r.default,{placement:"top",title:"删除",onClick:function(){return l(y.DELETE,t)}},g.default.createElement(c.default,{type:"delete"}))))}}];return g.default.createElement(h.DataTable,{columns:i,data:t,loading:a})}Object.defineProperty(t,"__esModule",{value:!0});var l=(a(39),a(38)),r=o(l),i=(a(24),a(13)),c=o(i),d=(a(33),a(31)),s=o(d),f=(a(115),a(114)),u=o(f),p=a(9),b=o(p),m=a(1),g=o(m),h=a(18),y=a(48),k=[{icon:"primary",name:"正在上传",loading:!0,class:{}},{icon:"primary",name:"成功",loading:!1,class:{}},{icon:"danger",name:"失败",loading:!1,class:{color:"#f00"}},{icon:"danger",name:"更新",loading:!1,class:{color:"#FF8C00",border:"#FF8C00 1px solid"}}];n.propTypes={data:m.PropTypes.object.isRequired,onEdit:m.PropTypes.func.isRequired,onDelete:m.PropTypes.func.isRequired},t.default=n,e.exports=t.default},648:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.datas,a=e.loading,o=e.dispatch,n=t.data,l=t.item,r=t.Visible,i=t.robotlist,c=t.pointCascade,s={add:{title:"添加场景",type:"aGreen",onEditor:function(){o({type:"SceneList/robotlist"}),0===c.length&&o({type:"SceneList/pointCascade"}),o({type:"SceneList/VisibleEdit",payload:{Visible:"edit",item:{}}})}}},u={data:n,loading:a,onEdit:function(e){o({type:"SceneList/robotlist"}),0===c.length&&o({type:"SceneList/pointCascade"}),o({type:"SceneList/VisibleEdit",payload:{Visible:"edit",item:e}})},onDelete:function(e){g({iconType:"",title:"确认删除此条信息？",onOk:function(){o({type:"SceneList/delete",payload:e})}})}},b={item:l,robotlist:i,pointCascade:c,onOk:function(e){o({type:"SceneList/post",payload:e})},onCancel:function(){o({type:"SceneList/VisibleEdit",payload:{Visible:"list"}})}};return d.default.createElement("div",{className:"modelMain"},d.default.createElement(f.Filter,s),d.default.createElement("div",{className:"connect"},d.default.createElement(p.default,u),"edit"===r&&d.default.createElement(m.default,b)))}function l(e,t){return{loading:e.loading.models.SceneList,datas:e.SceneList}}Object.defineProperty(t,"__esModule",{value:!0});var r=(a(21),a(20)),i=o(r),c=a(1),d=o(c),s=a(23),f=a(18),u=a(647),p=o(u),b=a(646),m=o(b),g=i.default.confirm;n.propTypes={dispatch:c.PropTypes.func,loading:c.PropTypes.bool,datas:c.PropTypes.object},t.default=(0,s.connect)(l)(n),e.exports=t.default}});